<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>끝말잇기</title>
  </head>
  <body>
    <h1>끝말잇기 게임</h1>
    <form action="submit">
      <div>
        <label for="word">제시어</label>
        <input type="text" id="word" readonly />
      </div>
      <div>
        <label for="number">현재 순서:</label>
        <input type="text" readonly value="1" id="number" />
        <span>번째 참가자</span>
      </div>
      <div>
        <label for="new_word">단어 입력</label>
        <input type="text" id="new_word" />
        <button>제출</button>
      </div>
    </form>
    <script>
      const players = Number(prompt('몇 명이 참가하나요?'));
      const $number = document.querySelector('#number');
      const $word = document.querySelector('#word');
      const $new_word = document.querySelector('#new_word');
      const $form = document.querySelector('form');
      let word;
      let newWord;
      let words = [];

      const onClickButton = (event) => {
        event.preventDefault();
        if (!word || word[word.length - 1] === newWord[0]) {
          word = newWord;
          $word.value = $new_word.value;
          $new_word.value = '';

          if (players > Number($number.value)) {
            $number.value = Number($number.value) + 1;
          } else {
            $number.value = 1;
          }
        } else {
          alert('올바른 단어를 입력하세요.');
        }
        $new_word.value = '';
      };

      const onInput = () => {
        newWord = $new_word.value;
      };
      $new_word.addEventListener('input', oninput);
      $form.addEventListener('submit', onClickButton);
    </script>
  </body>
</html>
